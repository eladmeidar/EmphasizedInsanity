--- 
title: Model Reflection Overview
layout: post
---
We all use ActiveRecord Reflection on the fly while programming, since we declare all the relations in the model and we are considering it as obvious.<br />i tried to search and see if there is a way to find those reflections and to alter it in runtime.<br /><br /><h4>Model.reflections</h4><br />i found this collection which contains all the information about the current model reflections.<br />for example.<br /><ul><br /><li><strong>.macro</strong>: this will return the type of the current reflection (:has_many, etc..)</li><br /><li><strong>.primary_key_name</strong>: the reflection primary key</li><br /><li><strong>.options</strong>: the reflection SQL join options</li><br /><li>etc. etc.</li><br /></ul><br /><br />for example, the following code will show me all the reflections for a model named Article:<br /><br /><div id="hlDiv" class="dp-highlighter"><div class="bar"></div><ol class="dp-rb" start="1"><li class="alt"><span><span>&gt;&gt;&nbsp;y&nbsp;Article.reflections.values.collect&nbsp;{</span><span class="variable">|e</span><span>|&nbsp;e.macro.to_s&nbsp;&nbsp;+&nbsp;</span><span class="string">"&nbsp;=&gt;&nbsp;"</span><span>&nbsp;+&nbsp;e.primary_key_name.to_s&nbsp;}&nbsp;&nbsp;</span></span></li><li class=""><span>---&nbsp;&nbsp;&nbsp;</span></li><li class="alt"><span>-&nbsp;has_many&nbsp;=&gt;&nbsp;taggee_id&nbsp;&nbsp;</span></li><li class=""><span>-&nbsp;belongs_to&nbsp;=&gt;&nbsp;layout_id&nbsp;&nbsp;</span></li><li class="alt"><span>-&nbsp;has_many&nbsp;=&gt;&nbsp;article_id&nbsp;&nbsp;</span></li><li class=""><span>-&nbsp;has_one&nbsp;=&gt;&nbsp;subject_id&nbsp;&nbsp;</span></li><li class="alt"><span>-&nbsp;belongs_to&nbsp;=&gt;&nbsp;user_id&nbsp;&nbsp;</span></li><li class=""><span>-&nbsp;has_many&nbsp;=&gt;&nbsp;taggee_id&nbsp;&nbsp;</span></li><li class="alt"><span>=&gt;&nbsp;<span class="keyword">nil</span><span>&nbsp;&nbsp;</span></span></li></ol></div>
