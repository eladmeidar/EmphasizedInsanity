<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Emphasized Insanity - Ruby on Rails and the quest for wealth</title>
  <style>
    body { background-color: #fff; color: #333; }

    body, p, ol, ul, td {
      font-family: verdana, arial, helvetica, sans-serif;
      font-size:   13px;
    }

    pre {
      background-color: #eee;
      font-size: 13px;
	  padding:10px;
    }
	
	.entry pre {
		padding:3px;
		background:#999;
		font-size:14px;
	}
	.entry, #search {
		margin-top:10px;
		background:#eee;
		padding:10px;
	}
	
	#disqus_thread {
	  background-color: #eee;
      font-size: 13px;
	  padding:10px;	
	}
	
	#nakedrailer {
		float:right;
		margin:10px;
	}
	
	h2 { margin:0px; padding:0px ;}
    a { font-weight:bolder; color: #000; }
    a:hover { color: #fff; background-color:#000; }
  </style>
  <link rel="alternate" type="application/rss+xml" title="Emphasized Insanity - Elad Meidar" href="http://feeds.feedburner.com/EladOnRails" />
</head>
<body>
<img id="nakedrailer" src="/images/dddprog.png" alt="The naked Railer" title="The naked Railer"/>
<h1>
  Exception Caught in EladMeidar#life
</h1>
<pre>uninitialized constant Sanity</pre>



<p><code>RAILS_ROOT: <a href="http://blog.eizesus.com">http://blog.eizesus.com</a></code></p>

<div id="traces"> 
    <a href="#" onclick="document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Application-Trace').style.display='block';; return false;">Application Trace</a> |
    <a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Full-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='block';; return false;">Framework Trace</a> |
    <a href="#" onclick="document.getElementById('Application-Trace').style.display='none';document.getElementById('Framework-Trace').style.display='none';document.getElementById('Full-Trace').style.display='block';; return false;">Full Trace</a> 
    <div id="Application-Trace" style="display: block;">
		 

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2009/1/nested-model-support-in-rails-2">Nested Model support in Rails</a></h2> 
  		<h3>07 Jan 2009 | <a href="/2009/1/nested-model-support-in-rails-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>Vote for it!<br /><br /><a href="http://ryandaigle.com/articles/2009/1/7/need-nested-model-support-in-rails-vote-for-it">ryan daigle</a></p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2009/1/nested-model-support-in-rails-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2009/1/nettus-best-tutorial-of-2008-2">NETTUS: Best tutorial of 2008</a></h2> 
  		<h3>06 Jan 2009 | <a href="/2009/1/nettus-best-tutorial-of-2008-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p><span class="caps">NETTUS</span> just published a <a href="http://feedproxy.google.com/%7Er/nettuts/%7E3/ulhG7mtqFdQ/">great tutorial roundup for 2008.</a><br />Great web development resource.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2009/1/nettus-best-tutorial-of-2008-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2009/1/2008-and-me-2">2008 and me</a></h2> 
  		<h3>06 Jan 2009 | <a href="/2009/1/2008-and-me-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>i have learned a lot of new things, which i am very happy about, but i also had some bad experiences:<br />
<br />
in Programming, i learned<br />
<ul><li>how to use <a href="http://git.or.cz/">git</a>, finally.</li><br />
<li>about <a href="http://www.unfuddle.com/">unfuddle</a> and i am happy about it.</li><br />
<li>how to master <a href="http://weblog.rubyonrails.org/2008/6/1/rails-2-1-time-zones-dirty-caching-gem-dependencies-caching-etc">Rails Caching.</a></li><br />
<li>how to master Ruby meta programming to the max (self learning class!).</li><br />
<li>how to use Oracle, also with rails.<br /></p>
</li>
<li>tried .net, hated it.</li>
<li>tried Django, hated it.<br /></li>
<li><a href="http://jquery.com/">JQuery</a>, <a href="http://mootools.net/">MooTools</a> and basically Javascript.</li>
<li>the power of <span class="caps">RSS</span> feeds.</li>
<li>about the joy in helping others where you struggled in forums across the net.<br /></li>
<p></ul>in Business, i learned<br />
<ul><li>Never to do business with friends.</li><br />
<li>Never to do business with friends, ever (yeah, twice).</li><br />
<li>how to spot opportunities of a life time.</li><br />
<li>how to make words and sentences, into real kicking money</li><br />
<li>how to harness adsense.</li><br />
<li>how to negotiate when i am not on top.</li><br />
<li>how to fight, struggle and win with minimum resources.</li><br />
<li>from the big shots, how to do it in the <span class="caps">USA</span>.<br /></p>
</li>
<p></ul><br />
Life<br />
<ul><li>microsoft came back into my life with an <span class="caps">XBOX</span>-360, and i hate to say i like it.</li><br />
<li>i learned to play the guitar.</li><br />
<li>Moved to <span class="caps">USA</span>, smartest thing i did in my life.<br /></p>
</li>
<li>i learned how to run a flawless project plan.</li>
<li>got 2 more Macs, ipod, and an AppleTv.</li>
<p></ul><br />
on the good side&#8230;<br />
<ul><li>Took part in few amazing projects.</li><br />
<li>Gained #1 on Oracle ruby on rails blog reference page.</li><br />
<li>Finally started my own baby startup.</li><br />
<li>Got 1.8M$ investment for a friend&#8217;s company in a 45 minute phone call to the investor.</li><br />
<li>Sold all my <span class="caps">AAPL</span> shares before the crisis.</li><br />
<li>Taking a major part in bringing Rails to Israel.<br /></p>
</li>
<p></ul>On the down side&#8230;<br />
<ul><li>i lost too many friends, if they ever were.</li><br />
<li>too many of my dreams and wishes came down in flames (but were replaced by new ones.)</li></p>
<p></ul><br />
Looking back, it wasn&#8217;t such a bad year&#8230; some things may not be so good, but i believe that 2009 is the key year for me.<br />
Hopefully in the next year (on Mephisto!!), i will be able to say<br />
&#8220;it was an amazing year&#8221;<br />
<br />
happy new year everyone.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2009/1/2008-and-me-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/12/moo-rd-lightweight-mootools-extestion-2">Moo.rd: lightweight Mootools extestion</a></h2> 
  		<h3>16 Dec 2008 | <a href="/2008/12/moo-rd-lightweight-mootools-extestion-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>Mootools is awesome, but it still lacks some of the features that JQuery has when dealing with effects and some other not-so-important stuff.<br />
Moo.rd is an excellent extension which implements some more features back to mootools. features such as some extra effects (finally, a mootools shake effect!), windows, sliders and more.<br />
recommended, <a href="http://www.moord.it/">get it here</a>.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/12/moo-rd-lightweight-mootools-extestion-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/12/observers-associations-and-callbacks-2">Observers, Associations and Callbacks</a></h2> 
  		<h3>15 Dec 2008 | <a href="/2008/12/observers-associations-and-callbacks-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>In my latest project, i need to notify a user via email about a certain kind of instance being created, so far normal.<br />
This instance is created with a several of associated instances, let&#8217;s say i am creating an article instance with linked categories using the virtual attribute technique (<a href="http://railscasts.com/episodes/16-virtual-attributes">RailsCasts #16</a>). <br />
I created an observer for the article class to send an email with the article and categories after a successful creation of an article instance, therefore i immediately assumed that the correct callback is after_create. well, it&#8217;s not.<br />
<br />
when i used after_create, the email arrived with an empty list of categories, almost like they weren&#8217;t saved, but a short trip to the console showed that the categories were created and that they are associated to the article as i wanted.<br />
<br />
The problem resides in the order rails does this nested object creation, first the initial object is being created (the artical) and only than the association are created (after i used #build, watch the screen cast!), which causes the email to be triggered one step earlier than i wanted.<br />
<br />
after finding <a href="http://railsforum.com/viewtopic.php?id=23083">this</a> article i changed the observer&#8217;s callback to after_save which apperantly is being triggers after the associations are saved as well.<br />
<br />
i spent a lot of time on it, hope this helps.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/12/observers-associations-and-callbacks-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/12/ajaxian-yql-converting-the-web-to-json-with-mock-sql-2">Ajaxian: YQL - converting the web to JSON with mock SQL</a></h2> 
  		<h3>13 Dec 2008 | <a href="/2008/12/ajaxian-yql-converting-the-web-to-json-with-mock-sql-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>Yahoo! now enables us to query a web page just like we would in sql. give it a try at <a href="http://ajaxian.com/archives/yql-converting-the-web-to-json-with-mock-sql"><span class="caps">YQL</span> &#8211; converting the web to <span class="caps">JSON</span> with mock <span class="caps">SQL</span></a></p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/12/ajaxian-yql-converting-the-web-to-json-with-mock-sql-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/12/using-ruby-on-rails-with-oracle-legacy-2">Using ruby on rails with Oracle Legacy.</a></h2> 
  		<h3>11 Dec 2008 | <a href="/2008/12/using-ruby-on-rails-with-oracle-legacy-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>Great slide on SlideShare.<br />
introduces the ruby-plsql gem, which makes it easier to preform database functions and stored procedures from ruby/rails applications (and supports bind variables).<br />
i personally wrote a module of my own to handle this need (which supports bind variables as well).<br />
Check out the slide and pay attention to the <code>oracle_enhanced_adapter</code> now available.<br />
The slide is over <a href="http://www.slideshare.net/rsim/using-ruby-on-rails-with-legacy-oracle-databases-presentation">here at SlideShare</a>.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/12/using-ruby-on-rails-with-oracle-legacy-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/11/skype-weblinks-call-a-skype-user-or-send-an-im-message-in-a-html-page-2">Skype Weblinks - Call a skype user or send an IM message in a html page</a></h2> 
  		<h3>24 Nov 2008 | <a href="/2008/11/skype-weblinks-call-a-skype-user-or-send-an-im-message-in-a-html-page-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>When the user has installed Skype, one can open Skype directly from a webpage. The protocol is skype:skypename &#8211; and some other optional flags.<br /><br />The example will use my skype username, but i am sure you will be able to get the hang of it.<br /><br /><span style="font-weight: bold;">Call a skype user</span><br />The optional flag is call &#8211; to force Skype to call somebody. It can also be left out &#8211; but if the user changed the default behavior to e.g. chat &#8211; Skype will open an IM session instead. So &#8211; go the save way and use the call &#8211; flag.<br /><br />Example: call a Skype user<br /><br /><pre><br />&lt;a href=&#8220;skype:eladmeidar?call&#8221;&gt;Call&lt;/a&gt;<br /></pre><br /><br /><span style="font-weight: bold;">Send an Skype IM message to a Skype user</span><br /><br />The optional flag is chat. See the example below to see the usage in a html page.<br />Example: send a chat message to a Skype user<br /><br /><pre><br />&lt;a href=&#8220;skype:eladmeidar?chat&#8221;&gt;Chat&lt;/a&gt;<br /></pre><br /><span style="font-weight: bold;">Send a voicemail to a Skype user</span><br />The optional flag is voicemail &#8211; as you might have guessed.<br />Example: send a voicemail to Skype user<br /><br /><pre><br />&lt;a href=&#8220;skype:eladmeidar?voicemail&#8221;&gt;Voice mail&lt;/a&gt;<br /></pre><br /><br /><span style="font-weight: bold;">Create a Skype conference call with multiple users</span><br />This is as easy as the examples above &#8211; just more usernames before the &#8220;?&#8221; and call as flag.<br />Example: create a Skype conference call<br /><br /><pre><br />&lt;a href=&#8220;skype:eladmeidar;otherfriend123?call&#8221;&gt;call 2 friends&lt;/a&gt;<br /></pre><br /><br /><span style="font-weight: bold;">Create a conference chat with multiple users</span><br />Same as conference call &#8211; with chat as flag.<br />Example: open a conference chat with multiple users &#8211; in html<br /><br /><pre><br />&lt;a href=&#8220;skype:eladmeidar;otherfriend123?chat&#8221;&gt;Chat with 2 friends &lt;/a&gt;<br /></pre><br /><br />i am now working on a rails plugin to implement this automated use for Rails applications</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/11/skype-weblinks-call-a-skype-user-or-send-an-im-message-in-a-html-page-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/11/rails-2-2-getting-started-link-list-2">Rails 2.2: Getting Started link list</a></h2> 
  		<h3>24 Nov 2008 | <a href="/2008/11/rails-2-2-getting-started-link-list-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>
<h1><span class="caps">OUT</span>-OF-<span class="caps">DATE</span>: a newer version of <a href="http://www.rubyonrails.org">rails</a> is already out.</h1>
</p>
<h3>General Documentation and Guides</h3> <p><strong>From <a href="http://www.railsinside.com">railsinside.com</a><br /></strong></p><p><strong>Rails 2.2 Release Notes -</strong> A very solid <a href="http://guides.rubyonrails.org/2_2_release_notes.html">set of release notes for 2.2</a> with basic coverage of the new features (with short code examples and links) as well as a list of deprecated features. They were compiled by Ruby / Rails Inside&#8217;s very own Mike Gunderloy!</p> <p><strong>Upgrading RubyGems to 1.3.x -</strong> Depending on your setup, Rails 2.2 may demand that you upgrade to RubyGems 1.3.&#215;. This is not as easy as it might usually be, however. Mike Gunderloy <a href="http://afreshcup.com/2008/10/25/rails-212-and-22rc1-update-your-rubygems/">gives some tips</a> in case you get stuck.</p> <p><strong>Rails Security Guide -</strong> Steer clear of security issues in your Rails 2.2 applications by reading the <a href="http://guides.rubyonrails.org/security.html">Ruby on Rails Security Guide</a>. Who said Rails has poor documentation? This is incredible!</p> <p><strong>Rails 2.2 Screencast -</strong> Gregg Pollack and Jason Seifer of Rails Envy put together <a href="http://envycasts.com/products/ruby-on-rails-22-screencast">a very solid Rails 2.2 screencast.</a> It costs $9, but it covers a lot of ground over 44 minutes &#8211; learn about etags, connection pooling, new enumerable methods, new test helpers, and more.</p> <p><strong>Rails 2.2 &#8211; What&#8217;s New -</strong> In association with EnvyCasts, Carlos Brando and Carl Youngblood present <a href="http://envycasts.com/products/ruby-on-rails-22-pdf">Rails 2.2 &#8211; What&#8217;s New</a>, a 118 page <span class="caps">PDF</span> covering all of the changes and additions to Rails 2.2. It&#8217;s available in a <a href="http://envycasts.com/products/ruby-on-rails-22-package-deal">package deal</a> with the screencast (above) too.</p> <p><strong>InfoQ&#8217;s Glance -</strong> InfoQ&#8217;s Mirko Stocker <a href="http://www.infoq.com/news/2008/11/rails-22">takes a quick glance</a> at some of Rails 2.2&#8217;s new features.</p> <h3>New Features</h3> <p><strong>Thread Safety -</strong> Rails 2.2 is now &#8220;thread safe.&#8221; In October, Pratik Naik <a href="http://m.onkey.org/2008/10/23/thread-safety-for-your-rails">wrote a summary of why this is a big deal</a> as well as some gotchas (basically, don&#8217;t use class variables, use mutexes, etc.) Charles Nutter has also written <a href="http://blog.headius.com/2008/08/qa-what-thread-safe-rails-means.html">What Thread-safe Rails Means</a> which answers several pertinent questions.</p> <p><strong>Internationalization -</strong> The Rails Internationalization effort has its own homepage at <a href="http://rails-i18n.org/">http://rails-i18n.org/</a> which features lots of links to how-tos, tips, documentation, and demos. They also have <a href="http://groups.google.com/group/rails-i18n">a Google group / mailing list</a> where you can get help, make suggestions, etc.</p> <p><strong>Basic Language Internationalization -</strong> It&#8217;s a little old, but <a href="http://almosteffortless.com/2008/07/21/simple-localization-in-rails-22/">Simple Localization in Rails 2.2</a> gives a very quick, code-driven example of how basic internationalization works in Rails 2.2 (some of the set up is easier now, but it mostly applies).</p> <p><strong>Localization / Internationalization Demo App -</strong> Clemens Kofler has put together <a href="http://i18n-demo.phusion.nl/">a demo app that shows off some of Rails 2.2&#8217;s internationalization and localization features.</a> If being knee deep in code is the best way for you to learn, jump in!</p> <p><strong>Layouts for ActionMailer -</strong> As of Rails 2.2, you can now <a href="http://ryandaigle.com/articles/2008/9/7/what-s-new-in-edge-rails-mailer-layouts">use layouts in your ActionMailer views</a>.</p> <p><strong>Connection Pooling -</strong> The <a href="http://ryandaigle.com/articles/2008/9/7/what-s-new-in-edge-rails-connection-pools">connection pooling</a> in Rails 2.2 allows Rails to distribute database requests across a pool of database connections. This can cause less lockups. In collaboration with a non-blocking MySQL driver, serious performance increases could result in certain situations.</p> <p><strong>Specify Join Table Conditions with Hashes -</strong> Do you need to run a find (or similar) query across a join? Now you can <a href="http://ryandaigle.com/articles/2008/7/7/what-s-new-in-edge-rails-easy-join-table-conditions">just specify the conditions for the joined tables in a hash</a>, much like local tables conditions!</p> <p><strong>Limited Resource Routes -</strong> You can now <a href="http://afreshcup.com/2008/11/12/rails-22-change-limited-resource-routes/">limit <em>map.resources</em> to creating certain methods</a>. For example, you might not want <em>destroy</em> or <em>index</em> methods &#8211; you can now specify these with <em>:only</em> and <em>:except</em>.</p> <p><strong>Memoization -</strong> Stop rolling your own memoization in Rails apps. Clemens Kofler <a href="http://www.railway.at/articles/2008/09/20/a-guide-to-memoization">demonstrates Rails 2.2&#8217;s newly rolled-in memoization features</a>. It&#8217;s just a single method! If you have a view that calls on a calculated attribute often, this will give you some serious performance gains.</p> <p><strong>Custom Length Tokenizer for Validations -</strong> You can now specify <a href="http://ryandaigle.com/articles/2008/7/7/what-s-new-in-edge-rails-custom-length-validation-tokenizer">a tokenizer of your own construction for <em>validates_length_of</em> validations.</a></p> <p><strong>Array#second through Array#tenth <del></strong> If you&#8217;re a bad programmer, you can now demonstrate it to the world by using <a href="http://github.com/rails/rails/commit/22af62cf486721ee2e45bb720c42ac2f4121faf4">the new Array#second, Array#third, Array#fourth, and so forth, methods.</a> I&#8217;ve put it in my calendar to look for open source Rails apps using <em>Array#seventh</em> in six months time and to call them out on Rails Inside ;</del>)</p> <p><em>Note: This list only takes into account some of the new features in Rails 2.2. There are a lot more! Read the release notes and the Rails 2.2 &#8211; What&#8217;s New <span class="caps">PDF</span> to get the full picture.</em></p> <h3>Miscellaneous</h3> <p><strong>restful-authentication-i18n -</strong> Want an authentication plugin for Rails 2.2 that supports internationalization? Take a look at <a href="http://github.com/dcrec1/restful-authentication-i18n/tree/master">result-authentication-i18n</a>!</p> <p><strong>Barebones Apps -</strong> Check out Rails Inside&#8217;s <a href="http://www.railsinside.com/elsewhere/100-7-barebones-rails-apps-to-kick-start-your-development-process.html">7 Barebones Rails Apps to Kick Start Your Development Process</a>.</p> <p><strong>Deploying on JBoss -</strong> You can now <a href="http://www.railsinside.com/deployment/156-jboss-on-rails-deploying-rails-apps-to-a-jboss-app-server.html">easily deploy a Rails app to a JBoss server</a>. With Rails 2.2&#8217;s significantly improved JRuby support, this makes rolling out Rails apps in the enterprise a breeze!</p> <p><strong>Installing Rails on Ubuntu Hardy Heron -</strong> Simon St Laurent has put together two Rails useful installation videos. One for <a href="http://broadcast.oreilly.com/2008/11/installing-rails-on-ubuntu-har.html">servers</a>, and one for the <a href="http://broadcast.oreilly.com/2008/11/installing-rails-on-hardy-hero.html">desktop</a>.</p> <p><strong><span class="caps">REST</span> for Rails 2 -</strong> Are you still in Rails 1.x land or not using <span class="caps">REST</span> at all? Would you like to? Geoffrey Grosenbach has put together <a href="http://peepcode.com/products/rest-for-rails-2">a screencast showing you how it should be done.</a> <em></em></p> <p><strong>A Better Rails Logo -</strong> <em><span style="font-style: normal;">The</span></em> <a href="http://railslogo.com/"><em><span style="font-style: normal;">Rails Logo</span></em></a> <em><span style="font-style: normal;">(as used at the head of this post) was created by Kevin Milden and is distrubuted under the</span></em> <a href="http://creativecommons.org/licenses/by-nd/3.0/"><em><span style="font-style: normal;">BY-ND Creative Commons Licence</span></em></a><em><span style="font-style: normal;">. i personally like the older one.</span></em></p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/11/rails-2-2-getting-started-link-list-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

  <div class="entry">
  	<div class="entrytitle">
  		<h2><a href="/2008/11/attachment_fu-and-minimagick-resize-bug-2">attachment_fu and minimagick resize bug</a></h2> 
  		<h3>24 Nov 2008 | <a href="/2008/11/attachment_fu-and-minimagick-resize-bug-2#disqus_thread" class="commentslink">View comments</a></h3>
  	</div>
  	
  	<div class="entrybody">
  	  <p>In one of my latest projects i was using the attachement_fu plugin to handle image uploads.<br />The attachement_fu plugin enables the option to select an image processor engine between <a href="http://seattlerb.rubyforge.org/ImageScience.html">ImageScience</a>, <a href="http://rmagick.rubyforge.org/">Rmagick</a> add <a href="http://rubyforge.org/projects/mini-magick/">MiniMagick</a>:<br /><ol><li>Rmagick<br />Kinda bulky, leaking but fully functional<br /></li><li>MiniMagick<br />Simple version of Rmagick, simple and small.</li><li>ImageSceince<br />Small, nice, and quick.</li></ol>i decided to use MiniMagick as my processor, i installed the gem:<br />
<pre><br />
sudo gem install mini_magick<br />
</pre> and added a specific <code>:processor</code> option to my Logo model.<br />
<pre class="brush:ruby"><br />
has_attachment :content_type =&gt; :image, <br />
                  :storage =&gt; :file_system, <br />
                   :max_size =&gt; 2.megabytes,<br />
                   :resize_to =&gt; &#8216;x100&#8217;,<br />
                   :processor =&gt; :mini_magick<br />
</pre><br />
but when i was uploading an image, i was was expecting it to be resized based on the options i specified in the model. imagine how surprised i was when i found out that the image is not being resized.<br />
checking the log found the following error:<br />
<pre class="brush: plain"><br />
Exception working with image: ImageMagick command (identify &#8220;/var/folders/Bv/Bvbna8-OH548ZWju8naF4U+++TI/-Tmp-/minimagick11451-0&#8221;) failed: Error Given 32512<br />
</pre><br />
Googling it didn&#8217;t help me much (except from finding other people with the same problem), so i decided to switch to use <a href="http://seattlerb.rubyforge.org/ImageScience.html">ImageScience</a> instead (RMagick is out of the question of course).<br />
<pre class="brush: bash"><br />
sudo gem install image_science<br />
</pre><br />
this will include all most all dependencies, but the <a href="http://seattlerb.rubyforge.org/ImageScience.html">freeImage</a> dependency is also needed.<br />
us mac/darwin users can simply use port:<br />
<pre class="brush: bash"><br />
sudo port selfupdate<br />
sudo port install freeimage<br />
</pre><br />
now change the processor in the model<br />
<pre class="brush: ruby"><br />
has_attachment :content_type =&gt; :image, <br />
                   :storage =&gt; :file_system, <br />
                   :max_size =&gt; 2.megabytes,<br />
                   :resize_to =&gt; &#8216;x100&#8217;,<br />
                   :processor =&gt; :image_science<br />
</pre><br />
and now it&#8217;s working. yeah!.</p>
  	</div>
  	
  	<div class="entrymeta">
  	  <a href="/2008/11/attachment_fu-and-minimagick-resize-bug-2#disqus_thread" class="commentslink">View comments</a>
  	</div>
  </div>

 
<div class="archive_link">
  <a href="/archive.html">View all previous posts in archive &raquo;</a>
</div>
    </div>
    <div id="Framework-Trace" style="display: none;">
		<div class="entry">
		<p>
			My name is <a href="http://www.eizesus.com">Elad Meidar</a>, i'm an Israeli entrepreneur and a web developer currently based in Florida, USA.<br/>
  			I am currently running a vivid Rails and mobile applications development firm in Fort Lauderdale, Consulting Venture Capitals in the US and totally crazy about Ruby on Rails.<br/>
		</p>
		<ul>
			<li><a href="http://www.twitter.com/eladmeidar">Twitter</a></li>
			<li><a href="http://www.facebook.com/profile.php?id=629277362">Facebook</a></li>
			<li><a href="http://www.linkedin.com/in/eladmeidar">LinkedIn</a></li>
			<li><a href="http://www.workingwithrails.com/person/5844-elad-meidar">Working With Rails</a></li>
			<li><a href="http://www.railsmentors.org/users/185">Rails Mentors</a></li>
			<li><a href="http://github.com/eladmeidar">GitHub</a></li>
			<li>#rubyonrails, #railsbridge, #facebook and #jquery on irc.freenode.net as <strong>eladmeidar</strong></li>
		</ul>
		<p>
		<a href="http://contributors.rubyonrails.org/contributors/elad-meidar/commits"><img src="http://www.workingwithrails.com/images/rails-core-contributor.gif?1213632569" alt="Rails Core Contributor" title="Rails Core Contributor"/></a>
		</p>
		<p>
			<a href="http://www.railsbridge.org" title="An inclusive and friendly Ruby on Rails community.">
			<img src="http://www.railsbridge.org/images/railsbridge_badge.png" alt="RailsBridge Badge" /></a>
		</p>
		</div>
    </div>
  
    <div id="Full-Trace" style="display: none;">
		<div id="twitter_div" class="entry">
			<ul id="twitter_update_list"></ul>
			<a href="http://twitter.com/eladmeidar">Follow me on Twitter!</a>
		</div>
    </div>
</div>

<h2 style="margin-top: 30px">Request</h2>
<p><strong>Parameters</strong>:
	<form id="search" method="get" action="http://www.google.com/search?sitename=blog.eizesus.com">
	<input type="text" size="25" name="q" value="" maxlength="255"/><input type="submit" value="Search"/>

	<input type="hidden" name="sitesearch" value="blog.eizesus.com" checked=""/>
	
	</form></p>
</div>


<h2 style="margin-top: 30px">Response</h2>
<p><b>Headers</b>:
<div id="disqus_thread"></div><script type="text/javascript" src="http://disqus.com/forums/emphasizedinsanity/embed.js"></script><noscript><a href="http://emphasizedinsanity.disqus.com/?url=ref">View the discussion thread.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</p>

<script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script>
<script type="text/javascript" src="http://twitter.com/statuses/user_timeline/eladmeidar.json?callback=twitterCallback2&amp;count=10"></script>
<p>
	<a href="http://feeds2.feedburner.com/EladOnRails"><img src="http://feeds2.feedburner.com/~fc/EladOnRails?bg=FFFFFF&amp;fg=444444&amp;anim=0" height="26" width="88" style="border:0" alt="" /></a>
	<script type="text/javascript" language="javascript" src="http://twittercounter.com/embed/?username=eladmeidar&style=white"></script>
</p>
<p>
	<script type="text/javascript" src="http://s51.sitemeter.com/js/counter.js?site=s51eizesusrulez"></script>
	<noscript>
		<a href="http://s51.sitemeter.com/stats.asp?site=s51eizesusrulez" target="_top">
		<img src="http://s51.sitemeter.com/meter.asp?site=s51eizesusrulez" alt="Site Meter" border="0"/></a>
	</noscript>
</p>
</body>
</html>